# –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## ‚ùå –ö–†–ò–¢–ò–ß–ù–û - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

### 1. –õ–µ–Ω–¥–∏–Ω–≥ (hookahmix.ru/)
**–°—Ç–∞—Ç—É—Å**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é  
**–ß—Ç–æ –µ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω HTML —Ñ–∞–π–ª `landing_dist_index.html`  
**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ª–µ–Ω–¥–∏–Ω–≥–∞
- –í—Å–µ —Å—Ç–∏–ª–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∞—Å—Å–µ—Ç—ã
- Build –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
ssh root@103.88.241.78 "cd /home/tabakapp/apps/tabak_landing && tar -czf landing-backup.tar.gz ."
scp root@103.88.241.78:/home/tabakapp/apps/tabak_landing/landing-backup.tar.gz .

# –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ
# –ù—É–∂–Ω—ã –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –ª–µ–Ω–¥–∏–Ω–≥–∞ –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```

### 2. –ü–æ–ª–Ω–∞—è Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–°—Ç–∞—Ç—É—Å**: –ß–∞—Å—Ç–∏—á–Ω–æ –µ—Å—Ç—å  
**–ß—Ç–æ –Ω—É–∂–Ω–æ**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**–°–æ–∑–¥–∞—Ç—å**: `nginx-hookahmix-full.conf`

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å

### 3. –°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
**–§–∞–π–ª**: `setup-server.sh`
```bash
#!/bin/bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —á–∏—Å—Ç–æ–º Ubuntu 22.04
```

–î–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å:
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18+
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL 14+
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (Let's Encrypt)

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
**–§–∞–π–ª**: `DEPLOYMENT_GUIDE.md`
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É (RAM, CPU, Storage)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üì¶ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
Tabak_Multiuser/
‚îú‚îÄ‚îÄ README.md                    ‚úÖ –ï—Å—Ç—å
‚îú‚îÄ‚îÄ DEPLOYMENT_GUIDE.md          ‚ùå –ù–µ—Ç
‚îú‚îÄ‚îÄ .env.local.example           ‚úÖ –ï—Å—Ç—å
‚îÇ
‚îú‚îÄ‚îÄ app/                         ‚ùå –ù—É–∂–Ω–∞ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx             ‚úÖ –ï—Å—Ç—å (–≤ –∫–æ—Ä–Ω–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/         ‚úÖ –ï—Å—Ç—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/           ‚úÖ –ï—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ index.html              ‚úÖ –ï—Å—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts          ‚úÖ –ï—Å—Ç—å
‚îÇ
‚îú‚îÄ‚îÄ owner/                       ‚ùå –ù—É–∂–Ω–∞ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è  
‚îÇ   ‚îú‚îÄ‚îÄ OwnerApp.tsx            ‚úÖ –ï—Å—Ç—å (–≤ –∫–æ—Ä–Ω–µ)
‚îÇ   ‚îî‚îÄ‚îÄ owner.html              ‚úÖ –ï—Å—Ç—å
‚îÇ
‚îú‚îÄ‚îÄ landing/                     ‚ùå –ü–û–õ–ù–û–°–¢–¨–Æ –û–¢–°–£–¢–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ index.html              ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ (landing_dist_index.html)
‚îÇ   ‚îú‚îÄ‚îÄ assets/                 ‚ùå –ù–µ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ styles/                 ‚ùå –ù–µ—Ç
‚îÇ
‚îú‚îÄ‚îÄ server/                      ‚úÖ –ï—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
‚îÇ   ‚îú‚îÄ‚îÄ api.js
‚îÇ   ‚îú‚îÄ‚îÄ authRoutes.js
‚îÇ   ‚îî‚îÄ‚îÄ ownerRoutes.js
‚îÇ
‚îú‚îÄ‚îÄ database/                    ‚ö†Ô∏è –§–∞–π–ª—ã –µ—Å—Ç—å, –Ω–æ –Ω–µ –≤ –ø–∞–ø–∫–µ
‚îÇ   ‚îú‚îÄ‚îÄ create-tables.sql       ‚úÖ –ï—Å—Ç—å (–≤ –∫–æ—Ä–Ω–µ)
‚îÇ   ‚îú‚îÄ‚îÄ seed-venues.sql         ‚úÖ –ï—Å—Ç—å (–≤ –∫–æ—Ä–Ω–µ)
‚îÇ   ‚îî‚îÄ‚îÄ migrations/             ‚ùå –ù–µ—Ç
‚îÇ
‚îú‚îÄ‚îÄ config/                      ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ
‚îÇ   ‚îú‚îÄ‚îÄ nginx-full.conf         ‚ùå –ù–µ—Ç (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ owner-fix)
‚îÇ   ‚îî‚îÄ‚îÄ pm2-ecosystem.config.js ‚ùå –ù–µ—Ç
‚îÇ
‚îî‚îÄ‚îÄ scripts/                     ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ
    ‚îú‚îÄ‚îÄ setup-server.sh         ‚ùå –ù–µ—Ç
    ‚îú‚îÄ‚îÄ setup-db.sh             ‚úÖ –ï—Å—Ç—å (–≤ –∫–æ—Ä–Ω–µ)
    ‚îú‚îÄ‚îÄ deploy.sh               ‚úÖ –ï—Å—Ç—å (–≤ –∫–æ—Ä–Ω–µ)
    ‚îî‚îÄ‚îÄ backup.sh               ‚ùå –ù–µ—Ç
```

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ (—á—Ç–æ –¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–º)

### –£—Ä–æ–≤–µ–Ω—å 1 - –ö–†–ò–¢–ò–ß–ù–û (–±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å)
1. ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–µ–Ω–¥–∏–Ω–≥ —Å —Å–µ—Ä–≤–µ—Ä–∞
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π Nginx –∫–æ–Ω—Ñ–∏–≥
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å setup-server.sh

### –£—Ä–æ–≤–µ–Ω—å 2 - –í–ê–ñ–ù–û (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)
4. ‚ö†Ô∏è –†–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
5. ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å DEPLOYMENT_GUIDE.md
6. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å PM2 ecosystem config

### –£—Ä–æ–≤–µ–Ω—å 3 - –ñ–ï–õ–ê–¢–ï–õ–¨–ù–û (–¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º–∞)
7. ‚ùå –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (–≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö SQL)
8. ‚ùå CI/CD (GitHub Actions)
9. ‚ùå –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
10. ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

**–°–µ–π—á–∞—Å –º–æ–∂–Ω–æ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)**:
```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/vipfat/Tabak_Multiuser.git
cd Tabak_Multiuser

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–í–†–£–ß–ù–£–Æ)
# - Node.js, PostgreSQL, Nginx, PM2

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ë–î
bash setup-db.sh

# 4. –°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm install
npm run build

# 5. –î–µ–ø–ª–æ–π
bash auto-deploy.sh

# ‚ùå –ù–û! –õ–µ–Ω–¥–∏–Ω–≥ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å - –µ–≥–æ –Ω–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```

**–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤**:
```bash
# –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë
bash setup-server.sh
```
