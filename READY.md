# ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### üé® –î–∏–∑–∞–π–Ω
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (#0B0F1D, #121629, #10B981)
- ‚úÖ –®—Ä–∏—Ñ—Ç Plus Jakarta Sans –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚úÖ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –µ–¥–∏–Ω–æ–≥–æ —Å—Ç–∏–ª—è
- ‚úÖ Tailwind –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–π
- ‚úÖ –í—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã (access 15 –º–∏–Ω + refresh 7 –¥–Ω–µ–π)
- ‚úÖ bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (10 —Ä–∞—É–Ω–¥–æ–≤)
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints —Å middleware

### üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `venue_owners` - –≤–ª–∞–¥–µ–ª—å—Ü—ã
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `owner_sessions` - refresh —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `venue_applications` - –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ (foreign keys)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ timestamps

### üöÄ API Endpoints

#### –ü—É–±–ª–∏—á–Ω—ã–µ:
- `GET /api/venues` - —Å–ø–∏—Å–æ–∫ –∑–∞–≤–µ–¥–µ–Ω–∏–π
- `GET /api/flavors` - —Å–ø–∏—Å–æ–∫ –≤–∫—É—Å–æ–≤
- `POST /api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –≤—Ö–æ–¥

#### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ (—Ç—Ä–µ–±—É—é—Ç JWT):
- `GET /api/auth/me` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `POST /api/auth/refresh` - –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
- `GET /api/owner/profile` - –ø—Ä–æ—Ñ–∏–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `PUT /api/owner/profile` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `GET /api/owner/venues` - –∑–∞–≤–µ–¥–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `POST /api/owner/applications` - –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É
- `GET /api/owner/applications` - —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫

### üéØ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### OwnerAuth (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥):
- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞–º–∏
- –ï–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –ª–µ–Ω–¥–∏–Ω–≥–æ–º

#### OwnerDashboard (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç):
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∑–∞–≤–µ–¥–µ–Ω–∏—è, –∑–∞—è–≤–∫–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ)
- –°–ø–∏—Å–æ–∫ –∑–∞–≤–µ–¥–µ–Ω–∏–π –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞—è–≤–æ–∫ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏
- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏
- API Tester –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ö–Ω–æ–ø–∫–∞ "–ù–∞ –≥–ª–∞–≤–Ω—É—é"

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/workspaces/Tabak_Multiuser/
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ api.js              # –û—Å–Ω–æ–≤–Ω–æ–π API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ authRoutes.js       # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ownerRoutes.js      # Owner endpoints
‚îÇ   ‚îî‚îÄ‚îÄ telegramAuth.js     # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ OwnerAuth.tsx       # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥
‚îÇ   ‚îî‚îÄ‚îÄ OwnerDashboard.tsx  # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îú‚îÄ‚îÄ dist/                   # Production build
‚îÇ   ‚îú‚îÄ‚îÄ index.html          # –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ owner.html          # Owner cabinet
‚îÇ   ‚îî‚îÄ‚îÄ assets/             # JS/CSS —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ tailwind.config.js      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞
‚îú‚îÄ‚îÄ index.css               # CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ .env.local              # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ deploy.sh               # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ deploy.tar.gz           # –ê—Ä—Ö–∏–≤ –¥–ª—è production
‚îî‚îÄ‚îÄ DEPLOY.md               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
```

## üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

### ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ (dev):
- API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
- PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- Venues endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- Email: `owner@test.ru`
- –ü–∞—Ä–æ–ª—å: `test123`

## üì¶ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–±—Ä–∞–Ω—ã –≤ –∞—Ä—Ö–∏–≤ `deploy.tar.gz` (263 KB)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:
```bash
./deploy.sh
```

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π:
–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ [DEPLOY.md](DEPLOY.md)

## üîó URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ production

- `https://hookahmix.ru/` - –ª–µ–Ω–¥–∏–Ω–≥
- `https://hookahmix.ru/app` - –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `https://hookahmix.ru/owner` - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ ‚≠ê
- `https://hookahmix.ru/api/*` - API endpoints

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è production

1. –ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ hookahmix.ru
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `./deploy.sh` –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ production
4. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥ (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º –ª–µ–Ω–¥–∏–Ω–≥–∞)

## üéì –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

- **–°–∏—Å—Ç–µ–º–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç**: Dashboard —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–≤–µ–¥–µ–Ω–∏—è–º–∏
- **–ó–∞—è–≤–∫–∏**: –í–ª–∞–¥–µ–ª—å—Ü—ã –º–æ–≥—É—Ç –ø–æ–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- **–ï–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –í—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É
- **JWT**: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å refresh —Ç–æ–∫–µ–Ω–∞–º–∏
- **API Tester**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –°–±–æ—Ä–∫–∞ frontend: ~5 —Å–µ–∫—É–Ω–¥
- –†–∞–∑–º–µ—Ä production build: ~270 KB (gzipped)
- API response time: < 100ms
- Database queries: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º TTL
- ‚úÖ Refresh —Ç–æ–∫–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ (pg –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ HTTPS –Ω–∞ production (Let's Encrypt)

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ production –¥–µ–ø–ª–æ—é
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 16 –¥–µ–∫–∞–±—Ä—è 2025
